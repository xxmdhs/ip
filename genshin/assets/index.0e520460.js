import{d as D,c as _,w as r,u as n,N as Z,a as M,o as h,b as d,e as ee,n as C,f as N,g as te,R as se,K as ae,r as V,h as b,i as ne,j as L,k as oe,F as T,l as re,m as ue,t as K,p as A,q as le,s as ie,v as B,x as q,y as w,z as ce,A as de,B as U,C as G,D as F,E as H,G as S,H as O,I as P,J as pe,L as fe,M as me,O as ve,P as J,Q as he,S as _e,T as ye,U as ge}from"./vendor.bc559ba3.js";function tt(){import("data:text/javascript,")}const we=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}};we();const Ne="_container_1omqz_2",$e="_headerText_1omqz_31",ke="_header_1omqz_31";var Ce={container:Ne,headerText:$e,header:ke},z=(i,u)=>{const o=i.__vccOpts||i;for(const[e,t]of u)o[e]=t;return o};const be=D({setup(i){const u=M();return(o,e)=>(h(),_(n(Z),null,{default:r(()=>[d(n(ne),null,{default:r(()=>[d(n(ee),{bordered:"",class:C(o.$style.header)},{default:r(()=>[N("strong",{class:C(o.$style.headerText),onClick:e[0]||(e[0]=t=>n(u).push("/"))},"\u539F\u795E\u5B98\u7F51\u65B0\u95FB\u5217\u8868",2)]),_:1},8,["class"]),d(n(te),{class:C(o.$style.container),"content-style":"padding: 24px;"},{default:r(()=>[d(n(se),null,{default:r(({Component:t,route:s})=>[(h(),_(ae,null,[s.meta.keepAlive?(h(),_(V(t),{key:0})):b("",!0)],1024)),s.meta.keepAlive?b("",!0):(h(),_(V(t),{key:0}))]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}))}}),Be={$style:Ce};var De=z(be,[["__cssModules",Be]]);const Ee="_column_1o6th_3",Fe="_between_1o6th_13";var Ae={column:Ee,between:Fe,"n-card":"_n-card_1o6th_27"};const Se=["src"],xe=B("\u5B98\u7F51\u67E5\u770B"),Me=D({props:{card:null},setup(i){const u=i;function o(s){window.open(s,"_blank","noreferrer=yes")}function e(s){let a=[];for(let m of s)switch(m){case"11":a.push("\u65B0\u95FB");break;case"12":a.push("\u516C\u544A");break;case"258":a.push("\u6D3B\u52A8");break}return a}function t(s,a){document.title=a,X.push("/info/"+s)}return(s,a)=>(h(),_(n(re),{cols:"3","item-responsive":"",responsive:"screen","x-gap":12,"y-gap":8},{default:r(()=>[(h(!0),L(T,null,oe(u.card,({channelId:m,title:y,id:k,imgSrc:c,time:v})=>(h(),_(n(ue),{span:"3 m:1",key:k},{default:r(()=>[d(n(ie),{title:y,class:C(s.$style["n-card"]),onClick:p=>t(k,y)},{cover:r(()=>[N("img",{src:c||"https://ys.mihoyo.com/main/_nuxt/img/37207c1.jpg"},null,8,Se)]),default:r(()=>[N("div",{class:C(s.$style.between)},[N("div",{class:C(s.$style.column)},[N("span",null,K(e(m).join(" ")),1),N("span",null,K(v),1)],2),d(n(A),{onClick:le(p=>o(`https://ys.mihoyo.com/main/news/detail/${k}`),["stop"])},{default:r(()=>[xe]),_:2},1032,["onClick"])],2)]),_:2},1032,["title","class","onClick"])]),_:2},1024))),128))]),_:1}))}}),Le={$style:Ae};var Te=z(Me,[["__cssModules",Le]]);const W="https://quiet-disk-7a77.xmdhs.workers.dev",ze=`${W}/https://ys.mihoyo.com/content/ysCn/getContentList?`;async function j(i,u,o="10"){let e=new URLSearchParams;e.append("pageSize",i.toString()),e.append("pageNum",u.toString()),e.append("channelId",o);let s=await(await fetch(ze+e.toString())).json();if(s.retcode!==0)throw new Error(s.message);return s}let x=[];async function Q(i="10",u=!1){if(!u&&x.length>0)return x;let o=await j(1e3,1,i),e=o.data.list,t=o.data.total,s=Math.ceil(t/1e3);for(let a=2;a<=s;a++){let m=await j(1e3,a,i);e=e.concat(m.data.list)}return e.sort((a,m)=>Number(m.id)-Number(a.id)),x=e,e}const Re=`${W}/https://ys.mihoyo.com/main/news/detail/`,Ie=/src=\\"(.*?.mp4)\\"/;async function Ve(i){let o=await(await fetch(Re+i)).text(),e=Ie.exec(o);if(e===null)return"";let t='"'+e[1]+'"';return JSON.parse(t)}const Ke="_warp_1c5fc_3";var Ue={warp:Ke};const Oe=B("\u6570\u636E\u52A0\u8F7D\u4E2D"),Pe=N("span",null,"\u8DF3\u8F6C",-1),je=N("span",null,"\u8DF3\u8F6C",-1),qe=D({setup(i){const u=q(),o=w([]),e=w(1),t=w(1),s=w(!1);let a=[];const m=w(""),y=w();function k(){document.title="\u539F\u795E\u89C6\u9891\u5217\u8868"}ce(k),de(k);const c=w("");function v(){if(isNaN(Number(c.value))){c.value="";return}if(Number(c.value)>t.value){c.value="";return}e.value=Number(c.value),c.value=""}if(a.length==0){(async()=>{try{const l=await Q();for(const g of l)a.push({id:g.id,title:g.title,channelId:g.channelId,time:g.start_time,imgSrc:($=>{let R="";return $.ext.forEach(E=>{var I;E.arrtName=="banner"&&(R=(I=E==null?void 0:E.value[0])==null?void 0:I.url)}),R})(g)});s.value=!0,o.value=a.slice(0,30),t.value=Math.ceil(a.length/30)||1}catch(l){u.error(String(l),{closable:!0,duration:0}),console.warn(l)}})();let p=[],f;U(e,l=>{var $;let g=p.length==0?a:p;o.value=g.slice((l-1)*30,l*30),($=y.value)==null||$.scrollIntoView({behavior:"smooth"})}),U(m,l=>{if(l=l.trim(),l==""){p=[],o.value=a.slice(0,30),t.value=Math.ceil(a.length/30)||1,e.value=1;return}f&&clearTimeout(f),l&&(f=setTimeout(()=>{if(l!=m.value)return;let g;try{g=new RegExp(l,"i")}catch($){u.error(String($),{closable:!0,duration:1500}),console.warn($);return}p=a.filter($=>g.test($.title)),o.value=p.slice(0,30),t.value=Math.ceil(p.length/30)||1,e.value=1},200))})}return(p,f)=>(h(),L(T,null,[s.value?b("",!0):(h(),_(n(G),{key:0},{description:r(()=>[Oe]),default:r(()=>[d(n(H),{text:"",repeat:10})]),_:1})),s.value?(h(),_(n(F),{key:1,vertical:""},{default:r(()=>[d(n(S),{size:"medium",round:"",placeholder:"\u6B63\u5219\u641C\u7D22",clearable:"",value:m.value,"onUpdate:value":f[0]||(f[0]=l=>m.value=l)},null,8,["value"]),N("div",{ref_key:"listTopRef",ref:y},null,512),d(n(P),{page:e.value,"onUpdate:page":f[2]||(f[2]=l=>e.value=l),"page-count":t.value,class:C(p.$style.warp)},{suffix:r(()=>[d(n(F),{size:"small",align:"center"},{default:r(()=>[Pe,d(n(S),{value:c.value,"onUpdate:value":f[1]||(f[1]=l=>c.value=l),onKeyup:O(v,["enter"]),placeholder:"",autosize:"",style:{"min-width":"3em"}},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["page","page-count","class"]),d(Te,{card:o.value},null,8,["card"]),d(n(P),{page:e.value,"onUpdate:page":f[4]||(f[4]=l=>e.value=l),"page-count":t.value,class:C(p.$style.warp)},{suffix:r(()=>[d(n(F),{size:"small",align:"center"},{default:r(()=>[je,d(n(S),{value:c.value,"onUpdate:value":f[3]||(f[3]=l=>c.value=l),onKeyup:O(v,["enter"]),placeholder:"",autosize:"",style:{"min-width":"3em"}},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["page","page-count","class"])]),_:1})):b("",!0)],64))}}),Ge={$style:Ue};var He=z(qe,[["__cssModules",Ge]]);const Je=B("\u6570\u636E\u52A0\u8F7D\u4E2D"),We=B("\u8FD4\u56DE\u5217\u8868"),Qe=B("\u5230\u7C73\u54C8\u6E38\u5B98\u7F51\u67E5\u770B"),Xe=D({props:{id:null},setup(i){const u=i,o=M(),e=q(),t=w(!1),s=w(null);pe(()=>{y==null||y.destroy()});const a=w(!0);function m(c){window.open(c,"_blank","noreferrer=yes")}let y;fe(async()=>{try{let v=(await Q()).find(f=>f.id==u.id);v&&(document.title=v.title);let p=await Ve(u.id);if(p==""){a.value=!1,t.value=!0;return}s.value&&(y=k(s.value,p)),a.value=!1}catch(c){e.error(String(c),{closable:!0,duration:0}),console.log(c),a.value=!1}});function k(c,v){let p={container:c,video:{url:v}};return new he(p)}return(c,v)=>(h(),L(T,null,[me(N("div",{id:"dplayer",ref_key:"dplayer",ref:s},null,512),[[ve,!a.value]]),a.value?(h(),_(n(G),{key:0},{description:r(()=>[Je]),default:r(()=>[d(n(H),{height:"30vh",width:"100%"})]),_:1})):b("",!0),t.value?(h(),_(n(J),{key:1,status:"warning",title:"\u8B66\u544A",description:"\u6B64 id \u6CA1\u6709\u89C6\u9891"},{footer:r(()=>[d(n(F),{justify:"center"},{default:r(()=>[d(n(A),{onClick:v[0]||(v[0]=p=>n(o).go(-1))},{default:r(()=>[We]),_:1}),d(n(A),{onClick:v[1]||(v[1]=p=>m("https://ys.mihoyo.com/main/news/detail/"+u.id))},{default:r(()=>[Qe]),_:1})]),_:1})]),_:1})):b("",!0)],64))}}),Ye=B("\u8FD4\u56DE\u4E0A\u4E00\u9875"),Ze=D({setup(i){const u=M();return(o,e)=>(h(),_(n(J),{status:"404",title:"404 \u8D44\u6E90\u4E0D\u5B58\u5728",description:"\u5565\u90FD\u6CA1\u6709"},{footer:r(()=>[d(n(A),{onClick:e[0]||(e[0]=t=>n(u).back())},{default:r(()=>[Ye]),_:1})]),_:1}))}}),et=[{path:"/",component:He,meta:{keepAlive:!0}},{path:"/info/:id",component:Xe,props:i=>({id:i.params.id}),meta:{scrollToTop:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ze,meta:{scrollToTop:!0}}],X=_e({history:ye(),scrollBehavior:(i,u,o)=>{if(o)return o;if(i.hash)return{el:i.hash,behavior:"smooth"};let e={left:0,top:0};if(i.meta.scrollToTop)e.left=0,e.top=0;else return!1;return e},routes:et}),Y=ge(De);Y.use(X);Y.mount("#app");export{tt as __vite_legacy_guard};
