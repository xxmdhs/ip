{"version":3,"sources":["../src/debug.ts"],"sourcesContent":["class Debug {\n  prefix?: string = \"wasi:\";\n  log: (...args: unknown[]) => void;\n\n  constructor(private isEnabled: boolean) {\n    this.enable(isEnabled);\n  }\n\n  // Recreate the logger function with the new enabled state.\n  enable(enabled?: boolean) {\n    this.log = createLogger(\n      enabled === undefined ? true : enabled,\n      this.prefix,\n    );\n  }\n\n  // Getter for the private isEnabled property.\n  get enabled(): boolean {\n    return this.isEnabled;\n  }\n}\n\n// The createLogger() creates either an empty function or a bound console.log\n// function so we can retain accurate line lumbers on Debug.log() calls.\nfunction createLogger(\n  enabled: boolean,\n  prefix?: string,\n): (...args: unknown[]) => void {\n  if (enabled) {\n    const a = console.log.bind(console, \"%c%s\", \"color: #265BA0\", prefix);\n    return a;\n  } else {\n    return () => {};\n  }\n}\n\nexport const debug = new Debug(false);\n"],"names":["Debug","enable","enabled","log","createLogger","undefined","prefix","isEnabled","constructor","a","console","bind","debug"],"mappings":"AAAA,IAAA,AAAMA,MAAN,MAAMA,MASJC,OAAOC,OAAiB,CAAE,CACxB,IAAI,CAACC,GAAG,CAAGC,aACTF,UAAYG,UAAY,IAAI,CAAGH,OAAO,CACtC,IAAI,CAACI,MAAM,CAEf,CAGA,IAAIJ,SAAmB,CACrB,OAAO,IAAI,CAACK,SAAS,AACvB,CAfAC,YAAoBD,UAAoB,gBAApBA,eAHpBD,OAAkB,QAIhB,IAAI,CAACL,MAAM,CAACM,UACd,CAcF,EAIA,SAASH,aACPF,OAAgB,CAChBI,MAAe,CACe,CAC9B,GAAIJ,QAAS,CACX,MAAMO,EAAIC,QAAQP,GAAG,CAACQ,IAAI,CAACD,QAAS,OAAQ,iBAAkBJ,QAC9D,OAAOG,CACT,KAAO,CACL,MAAO,IAAM,CAAC,CAChB,CAAC,AACH,CAEA,OAAO,MAAMG,MAAQ,IAAIZ,MAAM,KAAK,CAAE"}