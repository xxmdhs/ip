{"version":3,"sources":["../src/strace.ts"],"sourcesContent":["export function strace<T extends object>(\n  imports: T,\n  no_trace: Array<string | symbol>,\n) {\n  return new Proxy(imports, {\n    get(target, prop, receiver) {\n      const f = Reflect.get(target, prop, receiver);\n      if (no_trace.includes(prop)) {\n        return f;\n      }\n      return function (...args: undefined[]) {\n        console.log(prop, \"(\", ...args, \")\");\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        const result = Reflect.apply(f as Function, receiver, args);\n        console.log(\" =\", result);\n        return result;\n      };\n    },\n  });\n}\n"],"names":["strace","imports","no_trace","Proxy","get","target","prop","receiver","f","Reflect","includes","args","console","log","result","apply"],"mappings":"AAAA,OAAO,SAASA,OACdC,OAAU,CACVC,QAAgC,CAChC,CACA,OAAO,IAAIC,MAAMF,QAAS,CACxBG,IAAIC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAE,CAC1B,MAAMC,EAAIC,QAAQL,GAAG,CAACC,OAAQC,KAAMC,UACpC,GAAIL,SAASQ,QAAQ,CAACJ,MAAO,CAC3B,OAAOE,CACT,CAAC,AACD,OAAO,SAAU,GAAGG,IAAiB,CAAE,CACrCC,QAAQC,GAAG,CAACP,KAAM,OAAQK,KAAM,KAEhC,MAAMG,OAASL,QAAQM,KAAK,CAACP,EAAeD,SAAUI,MACtDC,QAAQC,GAAG,CAAC,KAAMC,QAClB,OAAOA,MACT,CACF,CACF,EACF,CAAC"}